<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Adds a Parameter for BMI — derive_param_bmi • admiral</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Adds a Parameter for BMI — derive_param_bmi" />
<meta property="og:description" content="Adds a record for BMI/Body Mass Index using Weight and Height each by group
(e.g., subject and visit) where the source parameters are available." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">admiral</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/admiral.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">User Guides</li>
    <li>
      <a href="../articles/adsl.html">Creating ADSL</a>
    </li>
    <li>
      <a href="../articles/occds.html">Creating an OCCDS ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_finding.html">Creating a BDS Finding ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_exposure.html">Creating a BDS Exposure ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_tte.html">Creating a BDS Time-to-Event ADaM</a>
    </li>
    <li>
      <a href="../articles/imputation.html">Date and Time Imputation</a>
    </li>
    <li>
      <a href="../articles/queries_dataset.html">Queries Dataset Documentation</a>
    </li>
    <li>
      <a href="../articles/faq.html">FAQ</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Developer Guides</li>
    <li>
      <a href="../articles/contribution_model.html">Contribution to admiral</a>
    </li>
    <li>
      <a href="../articles/programming_strategy.html">Programming Strategy</a>
    </li>
    <li>
      <a href="../articles/git_usage.html">Guidance for git Usage</a>
    </li>
    <li>
      <a href="../articles/writing_vignettes.html">Writing Vignettes</a>
    </li>
    <li>
      <a href="../articles/pr_review_guidance.html">Pull Request Review Guidance</a>
    </li>
    <li>
      <a href="../articles/unit_test_guidance.html">Unit Test Guidance</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Roche-GSK/admiral/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Adds a Parameter for BMI</h1>
    <small class="dont-index">Source: <a href='https://github.com/Roche-GSK/admiral/blob/master/R/derive_advs_params.R'><code>R/derive_advs_params.R</code></a></small>
    <div class="hidden name"><code>derive_param_bmi.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds a record for BMI/Body Mass Index using Weight and Height each by group
(e.g., subject and visit) where the source parameters are available.</p>
    </div>

    <pre class="usage"><span class='fu'>derive_param_bmi</span>(
  <span class='no'>dataset</span>,
  <span class='no'>by_vars</span>,
  <span class='kw'>set_values_to</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='kw'>PARAMCD</span> <span class='kw'>=</span> <span class='st'>"BMI"</span>),
  <span class='kw'>weight_code</span> <span class='kw'>=</span> <span class='st'>"WEIGHT"</span>,
  <span class='kw'>height_code</span> <span class='kw'>=</span> <span class='st'>"HEIGHT"</span>,
  <span class='no'>get_unit_expr</span>,
  <span class='kw'>filter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataset</th>
      <td><p>Input dataset</p>
<p>The variables specified by the <code>by_vars</code> parameter, <code>PARAMCD</code>, and
<code>AVAL</code> are expected.</p>
<p>The variable specified by <code>by_vars</code> and <code>PARAMCD</code> must be a unique key of
the input dataset after restricting it by the filter condition (<code>filter</code>
parameter) and to the parameters specified by <code>weight_code</code> and <code>height_code</code>.</p></td>
    </tr>
    <tr>
      <th>by_vars</th>
      <td><p>Grouping variables</p>
<p>For each group defined by <code>by_vars</code> an observation is added to the output
dataset.</p>
<p><em>Permitted Values:</em> list of variables</p></td>
    </tr>
    <tr>
      <th>set_values_to</th>
      <td><p>Variables to be set</p>
<p>The specified variables are set to the specified values for the new
observations. For example <code><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars(PARAMCD = "MAP")</a></code> defines the parameter
code for the new parameter.</p>
<p><em>Permitted Values:</em> List of variable-value pairs</p></td>
    </tr>
    <tr>
      <th>weight_code</th>
      <td><p>WEIGHT parameter code</p>
<p>The observations where <code>PARAMCD</code> equals the specified value are considered
as the WEIGHT. It is expected that WEIGHT is measured in kg</p>
<p>Permitted Values: character value</p></td>
    </tr>
    <tr>
      <th>height_code</th>
      <td><p>HEIGHT parameter code</p>
<p>The observations where <code>PARAMCD</code> equals the specified value are considered
as the HEIGHT. It is expected that HEIGHT is measured in cm</p>
<p>Permitted Values: character value</p></td>
    </tr>
    <tr>
      <th>get_unit_expr</th>
      <td><p>An expression providing the unit of the parameter</p>
<p>The result is used to check the units of the input parameters.</p>
<p>Permitted Values: A variable of the input dataset or a function call</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>Filter condition</p>
<p>The specified condition is applied to the input dataset before deriving the
new parameter, i.e., only observations fulfilling the condition are taken
into account.</p>
<p><em>Permitted Values:</em> a condition</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The input dataset with the new parameter added</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The analysis value of the new parameter is derived as
$$BMI = \frac{WEIGHT}{HEIGHT^2}$$</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='no'>advs</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>tibble</span><span class='kw ns'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tribble.html'>tribble</a></span>(
  ~<span class='no'>USUBJID</span>,      ~<span class='no'>PARAMCD</span>, ~<span class='no'>PARAM</span>,        ~<span class='no'>AVAL</span>, ~<span class='no'>AVALU</span>, ~<span class='no'>AVISIT</span>,
  <span class='st'>"01-701-1015"</span>, <span class='st'>"HEIGHT"</span>, <span class='st'>"Height (cm)"</span>, <span class='fl'>147</span>,   <span class='st'>"cm"</span>,   <span class='st'>"SCREENING"</span>,
  <span class='st'>"01-701-1015"</span>, <span class='st'>"WEIGHT"</span>, <span class='st'>"Weight (kg)"</span>, <span class='fl'>54.0</span>,  <span class='st'>"kg"</span>,   <span class='st'>"SCREENING"</span>,
  <span class='st'>"01-701-1015"</span>, <span class='st'>"WEIGHT"</span>, <span class='st'>"Weight (kg)"</span>, <span class='fl'>54.4</span>,  <span class='st'>"kg"</span>,   <span class='st'>"BASELINE"</span>,
  <span class='st'>"01-701-1015"</span>, <span class='st'>"WEIGHT"</span>, <span class='st'>"Weight (kg)"</span>, <span class='fl'>53.1</span>,  <span class='st'>"kg"</span>,   <span class='st'>"WEEK 2"</span>,
  <span class='st'>"01-701-1028"</span>, <span class='st'>"HEIGHT"</span>, <span class='st'>"Height (cm)"</span>, <span class='fl'>163</span>,   <span class='st'>"cm"</span>,   <span class='st'>"SCREENING"</span>,
  <span class='st'>"01-701-1028"</span>, <span class='st'>"WEIGHT"</span>, <span class='st'>"Weight (kg)"</span>, <span class='fl'>78.5</span>,  <span class='st'>"kg"</span>,   <span class='st'>"SCREENING"</span>,
  <span class='st'>"01-701-1028"</span>, <span class='st'>"WEIGHT"</span>, <span class='st'>"Weight (kg)"</span>, <span class='fl'>80.3</span>,  <span class='st'>"kg"</span>,   <span class='st'>"BASELINE"</span>,
  <span class='st'>"01-701-1028"</span>, <span class='st'>"WEIGHT"</span>, <span class='st'>"Weight (kg)"</span>, <span class='fl'>80.7</span>,  <span class='st'>"kg"</span>,   <span class='st'>"WEEK 2"</span>
)

<span class='fu'>derive_param_bmi</span> (
  <span class='no'>advs</span>,
  <span class='kw'>by_vars</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='no'>USUBJID</span>, <span class='no'>AVISIT</span>),
  <span class='kw'>weight_code</span> <span class='kw'>=</span> <span class='st'>"WEIGHT"</span>,
  <span class='kw'>height_code</span> <span class='kw'>=</span> <span class='st'>"HEIGHT"</span>,
  <span class='kw'>set_values_to</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(
    <span class='kw'>PARAMCD</span> <span class='kw'>=</span> <span class='st'>"BMI"</span>,
    <span class='kw'>PARAM</span> <span class='kw'>=</span> <span class='st'>"Body Mass Index (kg/m^2)"</span>
  ),
  <span class='kw'>get_unit_expr</span> <span class='kw'>=</span> <span class='fu'><a href='extract_unit.html'>extract_unit</a></span>(<span class='no'>PARAM</span>)
 )</div><div class='output co'>#&gt; # A tibble: 10 x 6
#&gt;    USUBJID     PARAMCD PARAM                     AVAL AVALU AVISIT   
#&gt;    &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;                    &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    
#&gt;  1 01-701-1015 HEIGHT  Height (cm)              147   cm    SCREENING
#&gt;  2 01-701-1015 WEIGHT  Weight (kg)               54   kg    SCREENING
#&gt;  3 01-701-1015 WEIGHT  Weight (kg)               54.4 kg    BASELINE 
#&gt;  4 01-701-1015 WEIGHT  Weight (kg)               53.1 kg    WEEK 2   
#&gt;  5 01-701-1028 HEIGHT  Height (cm)              163   cm    SCREENING
#&gt;  6 01-701-1028 WEIGHT  Weight (kg)               78.5 kg    SCREENING
#&gt;  7 01-701-1028 WEIGHT  Weight (kg)               80.3 kg    BASELINE 
#&gt;  8 01-701-1028 WEIGHT  Weight (kg)               80.7 kg    WEEK 2   
#&gt;  9 01-701-1015 BMI     Body Mass Index (kg/m^2)  25.0 &lt;NA&gt;  SCREENING
#&gt; 10 01-701-1028 BMI     Body Mass Index (kg/m^2)  29.5 &lt;NA&gt;  SCREENING</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Thomas Neitmann, Alice Ehmann, Stefan Bundfuss, Samia Kabi, Vignesh Thanikachalam, Ondrej Slama, Shimeng Huang, Robin Koeger, Gordon Miller, Teckla Akinyi, Eric Simms, Michael Thorpe, Pavan Kumar, Hamza Rahal, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '2d4895759f79e89d6eb1c3b990bca6d8',
    indexName: 'roche-gsk',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


