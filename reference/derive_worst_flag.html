<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Adds a Variable Flagging the maximal / minimal value within a group of observations — derive_worst_flag • admiral</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Adds a Variable Flagging the maximal / minimal value within a group of observations — derive_worst_flag" />
<meta property="og:description" content="Adds a Variable Flagging the maximal / minimal value within a group of observations" />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">admiral</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.5.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/admiral.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="divider"></li>
    <li class="dropdown-header">User Guides</li>
    <li>
      <a href="../articles/adsl.html">Creating ADSL</a>
    </li>
    <li>
      <a href="../articles/occds.html">Creating an OCCDS ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_finding.html">Creating a BDS Finding ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_exposure.html">Creating a BDS Exposure ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_tte.html">Creating a BDS Time-to-Event ADaM</a>
    </li>
    <li>
      <a href="../articles/imputation.html">Date and Time Imputation</a>
    </li>
    <li>
      <a href="../articles/queries_dataset.html">Queries Dataset Documentation</a>
    </li>
    <li>
      <a href="../articles/faq.html">FAQ</a>
    </li>
    <li class="divider"></li>
    <li class="dropdown-header">Developer Guides</li>
    <li>
      <a href="../articles/contribution_model.html">Contribution to admiral</a>
    </li>
    <li>
      <a href="../articles/programming_strategy.html">Programming Strategy</a>
    </li>
    <li>
      <a href="../articles/git_usage.html">Guidance for git and GitHub Usage</a>
    </li>
    <li>
      <a href="../articles/writing_vignettes.html">Writing Vignettes</a>
    </li>
    <li>
      <a href="../articles/pr_review_guidance.html">Pull Request Review Guidance</a>
    </li>
    <li>
      <a href="../articles/unit_test_guidance.html">Unit Test Guidance</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/Roche-GSK/admiral/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Adds a Variable Flagging the maximal / minimal value within a group of observations</h1>
    <small class="dont-index">Source: <a href='https://github.com/Roche-GSK/admiral/blob/master/R/derive_extreme_flag.R'><code>R/derive_extreme_flag.R</code></a></small>
    <div class="hidden name"><code>derive_worst_flag.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Adds a Variable Flagging the maximal / minimal value within a group of observations</p>
    </div>

    <pre class="usage"><span class='fu'>derive_worst_flag</span>(
  <span class='no'>dataset</span>,
  <span class='no'>by_vars</span>,
  <span class='no'>order</span>,
  <span class='no'>new_var</span>,
  <span class='no'>param_var</span>,
  <span class='no'>analysis_var</span>,
  <span class='no'>worst_high</span>,
  <span class='no'>worst_low</span>,
  <span class='kw'>filter</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>check_type</span> <span class='kw'>=</span> <span class='st'>"warning"</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>dataset</th>
      <td><p>Input dataset.
Variables specified by <code>by_vars</code>, <code>order</code>, <code>param_var</code>, and <code>analysis_var</code> are expected.</p></td>
    </tr>
    <tr>
      <th>by_vars</th>
      <td><p>Grouping variables</p>
<p>Permitted Values: list of variables</p></td>
    </tr>
    <tr>
      <th>order</th>
      <td><p>Sort order.
Used to determine maximal / minimal observation if they are not unique,
see Details section for more information.</p></td>
    </tr>
    <tr>
      <th>new_var</th>
      <td><p>Variable to add to the <code>dataset</code>.
It is set <code>"Y"</code> for the maximal / minimal observation of each group,
see Details section for more information.</p></td>
    </tr>
    <tr>
      <th>param_var</th>
      <td><p>Variable with the parameter values for which the maximal / minimal
value is calculated.</p></td>
    </tr>
    <tr>
      <th>analysis_var</th>
      <td><p>Variable with the measurement values for which the maximal / minimal
value is calculated.</p></td>
    </tr>
    <tr>
      <th>worst_high</th>
      <td><p>Character with <code>param_var</code> values specifying the parameters
referring to "high".
Use <code><a href='https://rdrr.io/r/base/character.html'>character(0)</a></code> if not required.</p></td>
    </tr>
    <tr>
      <th>worst_low</th>
      <td><p>Character with <code>param_var</code> values specifying the parameters
referring to "low".
Use <code><a href='https://rdrr.io/r/base/character.html'>character(0)</a></code> if not required.</p></td>
    </tr>
    <tr>
      <th>filter</th>
      <td><p>Filter for flag data</p>
<p>Only observations fulfilling the specified condition are taken into account
for flagging. If the parameter is not specified, all observations are
considered.</p>
<p>Permitted Values: a condition</p></td>
    </tr>
    <tr>
      <th>check_type</th>
      <td><p>Check uniqueness?</p>
<p>If <code>"warning"</code> or <code>"error"</code> is specified, the specified message is issued
if the observations of the input dataset are not unique with respect to the
by variables and the order.</p>
<p>Default: <code>"warning"</code></p>
<p>Permitted Values: <code>"none"</code>, <code>"warning"</code>, <code>"error"</code></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The input dataset with the new flag variable added.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>For each group with respect to the variables specified by the <code>by_vars</code> parameter,
the maximal / minimal observation of <code>analysis_var</code>
is labelled in the <code>new_var</code> column as <code>"Y"</code>
if its <code>param_var</code> is in <code>worst_high</code> / <code>worst_low</code>,
otherwise it is assigned <code>NA</code>.
If there is more than one such maximal / minimal observation,
the first one with respect to the order specified by the <code>order</code> parameter is flagged.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>input</span> <span class='kw'>&lt;-</span> <span class='kw pkg'>tibble</span><span class='kw ns'>::</span><span class='fu'><a href='https://tibble.tidyverse.org/reference/tribble.html'>tribble</a></span>(
  ~<span class='no'>STUDYID</span>, ~<span class='no'>USUBJID</span>, ~<span class='no'>PARAMCD</span>,  ~<span class='no'>AVISIT</span>,    ~<span class='no'>ADT</span>,                 ~<span class='no'>AVAL</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-25"</span>), <span class='fl'>14.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-23"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"WEEK 1"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>10.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"WEEK 2"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-30"</span>), <span class='fl'>12.0</span>,

  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"SCREENING"</span>,<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-25"</span>), <span class='fl'>14.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-23"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"WEEK 1"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>10.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM01"</span>, <span class='st'>"WEEK 2"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-30"</span>), <span class='fl'>12.0</span>,

  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"SCREENING"</span>,<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"SCREENING"</span>,<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-25"</span>), <span class='fl'>14.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"SCREENING"</span>,<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-23"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>10.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT01"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"WEEK 2"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-30"</span>), <span class='fl'>12.0</span>,

  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"SCREENING"</span>,<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-25"</span>), <span class='fl'>14.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"WEEK 1"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-23"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"WEEK 1"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>10.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM02"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-30"</span>), <span class='fl'>12.0</span>,

  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM03"</span>, <span class='st'>"SCREENING"</span>,<span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM03"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-25"</span>), <span class='fl'>14.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM03"</span>, <span class='st'>"WEEK 1"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-23"</span>), <span class='fl'>15.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM03"</span>, <span class='st'>"WEEK 1"</span>,   <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-27"</span>), <span class='fl'>10.0</span>,
  <span class='st'>"TEST01"</span>, <span class='st'>"PAT02"</span>,  <span class='st'>"PARAM03"</span>, <span class='st'>"BASELINE"</span>, <span class='fu'><a href='https://rdrr.io/r/base/as.Date.html'>as.Date</a></span>(<span class='st'>"2021-04-30"</span>), <span class='fl'>12.0</span>
)

<span class='fu'>derive_worst_flag</span>(
  <span class='no'>input</span>,
  <span class='kw'>by_vars</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='no'>USUBJID</span>, <span class='no'>PARAMCD</span>, <span class='no'>AVISIT</span>),
  <span class='kw'>order</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='fu'><a href='https://dplyr.tidyverse.org/reference/desc.html'>desc</a></span>(<span class='no'>ADT</span>)),
  <span class='kw'>new_var</span> <span class='kw'>=</span> <span class='no'>WORSTFL</span>,
  <span class='kw'>param_var</span> <span class='kw'>=</span> <span class='no'>PARAMCD</span>,
  <span class='kw'>analysis_var</span> <span class='kw'>=</span> <span class='no'>AVAL</span>,
  <span class='kw'>worst_high</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"PARAM01"</span>, <span class='st'>"PARAM03"</span>),
  <span class='kw'>worst_low</span> <span class='kw'>=</span> <span class='st'>"PARAM02"</span>
)</div><div class='output co'>#&gt; # A tibble: 25 x 7
#&gt;    STUDYID USUBJID PARAMCD AVISIT    ADT         AVAL WORSTFL
#&gt;    &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;date&gt;     &lt;dbl&gt; &lt;chr&gt;  
#&gt;  1 TEST01  PAT01   PARAM02 BASELINE  2021-04-27    10 Y      
#&gt;  2 TEST01  PAT01   PARAM02 SCREENING 2021-04-25    14 Y      
#&gt;  3 TEST01  PAT01   PARAM02 SCREENING 2021-04-27    15 &lt;NA&gt;   
#&gt;  4 TEST01  PAT01   PARAM02 SCREENING 2021-04-23    15 &lt;NA&gt;   
#&gt;  5 TEST01  PAT01   PARAM02 WEEK 2    2021-04-30    12 Y      
#&gt;  6 TEST01  PAT02   PARAM02 BASELINE  2021-04-30    12 Y      
#&gt;  7 TEST01  PAT02   PARAM02 BASELINE  2021-04-25    14 &lt;NA&gt;   
#&gt;  8 TEST01  PAT02   PARAM02 SCREENING 2021-04-27    15 Y      
#&gt;  9 TEST01  PAT02   PARAM02 WEEK 1    2021-04-27    10 Y      
#&gt; 10 TEST01  PAT02   PARAM02 WEEK 1    2021-04-23    15 &lt;NA&gt;   
#&gt; # … with 15 more rows</div><div class='input'>
<span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='co'># example with ADVS</span>
<span class='fu'>derive_worst_flag</span>(
  <span class='no'>advs</span>,
  <span class='kw'>by_vars</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='no'>USUBJID</span>, <span class='no'>PARAMCD</span>, <span class='no'>AVISIT</span>),
  <span class='kw'>order</span> <span class='kw'>=</span> <span class='fu'><a href='https://dplyr.tidyverse.org/reference/vars.html'>vars</a></span>(<span class='no'>ADT</span>, <span class='no'>ATPTN</span>),
  <span class='kw'>new_var</span> <span class='kw'>=</span> <span class='no'>WORSTFL</span>,
  <span class='kw'>param_var</span> <span class='kw'>=</span> <span class='no'>PARAMCD</span>,
  <span class='kw'>analysis_var</span> <span class='kw'>=</span> <span class='no'>AVAL</span>,
  <span class='kw'>worst_high</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"SYSBP"</span>, <span class='st'>"DIABP"</span>),
  <span class='kw'>worst_low</span> <span class='kw'>=</span> <span class='st'>"RESP"</span>,
  <span class='kw'>filter</span> <span class='kw'>=</span> !<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>AVISIT</span>) <span class='kw'>&amp;</span> !<span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span>(<span class='no'>AVAL</span>)
)
}</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Thomas Neitmann, Alice Ehmann, Stefan Bundfuss, Samia Kabi, Vignesh Thanikachalam, Ondrej Slama, Shimeng Huang, Robin Koeger, Gordon Miller, Teckla Akinyi, Eric Simms, Michael Thorpe, Pavan Kumar, Hamza Rahal, F. Hoffmann-La Roche AG, GlaxoSmithKline LLC.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '2d4895759f79e89d6eb1c3b990bca6d8',
    indexName: 'roche-gsk',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


