<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Creating an OCCDS ADaM • admiral</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Creating an OCCDS ADaM">
<meta property="og:description" content="admiral">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">admiral</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/admiral.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/adsl.html">Creating ADSL</a>
    </li>
    <li>
      <a href="../articles/occds.html">Creating an OCCDS ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_finding.html">Creating a BDS Finding ADaM</a>
    </li>
    <li>
      <a href="../articles/contributing.html">Contributing to admiral</a>
    </li>
    <li>
      <a href="../articles/faq.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Roche-GSK/admiral/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Creating an OCCDS ADaM</h1>
                        <h4 class="author">admiral team</h4>
            
            <h4 class="date">2021-07-08</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Roche-GSK/admiral/blob/master/vignettes/occds.Rmd"><code>vignettes/occds.Rmd</code></a></small>
      <div class="hidden name"><code>occds.Rmd</code></div>

    </div>

    
    
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This article describes creating an OCCDS ADaM. Examples are currently presented and tested in the context of ADAE. However, the examples could be applied to other OCCDS ADaMs such as ADCM, ADMH, ADDV, etc.</p>
<p><strong>Note:</strong> <em>All examples assume CDISC SDTM and/or ADaM format as input unless otherwise specified.</em></p>
</div>
<div id="programming-workflow" class="section level2">
<h2 class="hasAnchor">
<a href="#programming-workflow" class="anchor"></a>Programming Workflow</h2>
<ul>
<li><a href="#readdata">Read in Data</a></li>
<li><a href="#datetime">Derive/Impute End and Start Analysis Date/time and Relative Day</a></li>
<li><a href="#duration">Derive Durations</a></li>
<li><a href="#phase_period">Derive Analysis Phase and Period</a></li>
<li><a href="#trtpa">Derive Planned and Actual Treatment</a></li>
<li><a href="#last_dose">Derive Date/Date-time of Last Dose</a></li>
<li><a href="#severity">Derive Severity, Causality, and Toxicity Grade</a></li>
<li><a href="#trtfag">Derive Treatement Emergent Flag</a></li>
<li><a href="#occflag">Derive Occurrence Flags</a></li>
<li><a href="#query">Derive Query Variables</a></li>
</ul>
<div id="readdata" class="section level3">
<h3 class="hasAnchor">
<a href="#readdata" class="anchor"></a>Read in Data</h3>
<p>Let’s start by attaching packages:</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'dplyr'</span>
<span class="co">#&gt; The following objects are masked from 'package:stats':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     filter, lag</span>
<span class="co">#&gt; The following objects are masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     intersect, setdiff, setequal, union</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lubridate</span>)
<span class="co">#&gt; </span>
<span class="co">#&gt; Attaching package: 'lubridate'</span>
<span class="co">#&gt; The following object is masked from 'package:base':</span>
<span class="co">#&gt; </span>
<span class="co">#&gt;     date</span>
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">admiral</span>)</pre></body></html></div>
<p>To start, all data frames needed for the creation of <code>ADAE</code> should be read into the environment. This will be a company specific process. Some of the data frames needed may be:</p>
<ul>
<li>
<code>AE</code>, <code>SUPPAE</code>
</li>
<li><code>SUPPDM</code></li>
<li><code>ADSL</code></li>
</ul>
<p>To derive Supplemental Qualifiers, <code><a href="../reference/derive_suppqual_vars.html">derive_suppqual_vars()</a></code> can be used.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">ae</span> <span class="kw">&lt;-</span> <span class="fu"><a href="../reference/derive_suppqual_vars.html">derive_suppqual_vars</a></span>(<span class="no">ae</span>, <span class="no">suppae</span>)</pre></body></html></div>
<p>Now start creating ADAE by joining the required data sets together.</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="no">ae</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="no">adsl</span>)

<span class="no">adae</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/join.html">left_join</a></span>(
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="no">ae</span>, <span class="kw">DOMAIN</span> <span class="kw">=</span> <span class="kw">NULL</span>),
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="no">adsl</span>, <span class="kw">DOMAIN</span> <span class="kw">=</span> <span class="kw">NULL</span>),
  <span class="kw">by</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"STUDYID"</span>, <span class="st">"USUBJID"</span>)
)</pre></body></html></div>
</div>
<div id="datetime" class="section level3">
<h3 class="hasAnchor">
<a href="#datetime" class="anchor"></a>Derive/Impute End and Start Analysis Date/time and Relative Day</h3>
<p>This part includes variables <code>AENDTM</code>, <code>AENDT</code>, <code>AENDY</code>, <code>ASTDTM</code>, <code>ASTDT</code>, and <code>ASTDY</code>. The function <code><a href="../reference/derive_vars_dtm.html">derive_vars_dtm()</a></code> can be used to derive <code>AENDTM</code> and <code>ASTDTM</code> where <code>ASTDTM</code> could be company-specific. <code>AENDT</code> and <code>ASTADT</code> can be created with a simple <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code>, and <code><a href="../reference/derive_var_aendy.html">derive_var_aendy()</a></code> and <code><a href="../reference/derive_var_astdy.html">derive_var_astdy()</a></code> can be used to create <code>AENDY</code> and <code>ASTDY</code> respectively.</p>
<div class="sourceCode" id="cb4"><html><body><pre class="r"><span class="no">adae</span> <span class="kw">&lt;-</span> <span class="no">adae</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_vars_dtm.html">derive_vars_dtm</a></span>(
    <span class="kw">dtc</span> <span class="kw">=</span> <span class="no">AEENDTC</span>,
    <span class="kw">new_vars_prefix</span> <span class="kw">=</span> <span class="st">"AEN"</span>,
    <span class="kw">date_imputation</span> <span class="kw">=</span> <span class="st">"last"</span>,
    <span class="kw">time_imputation</span> <span class="kw">=</span> <span class="st">"last"</span>,
    <span class="kw">max_dates</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">DTHDT</span>, <span class="no">EOSDT</span>)
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_vars_dtm.html">derive_vars_dtm</a></span>(
    <span class="kw">dtc</span> <span class="kw">=</span> <span class="no">AESTDTC</span>,
    <span class="kw">new_vars_prefix</span> <span class="kw">=</span> <span class="st">"AST"</span>,
    <span class="kw">date_imputation</span> <span class="kw">=</span> <span class="st">"first"</span>,
    <span class="kw">time_imputation</span> <span class="kw">=</span> <span class="st">"first"</span>,
    <span class="kw">min_dates</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="no">TRTSDT</span>)
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(
    <span class="kw">AENDT</span> <span class="kw">=</span> <span class="fu"><a href="http://lubridate.tidyverse.org/reference/date.html">date</a></span>(<span class="no">AENDTM</span>),
    <span class="kw">ASTDT</span> <span class="kw">=</span> <span class="fu"><a href="http://lubridate.tidyverse.org/reference/date.html">date</a></span>(<span class="no">ASTDTM</span>)
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_var_aendy.html">derive_var_aendy</a></span>(
    <span class="kw">reference_date</span> <span class="kw">=</span> <span class="no">TRTSDT</span>,
    <span class="kw">date</span> <span class="kw">=</span> <span class="no">AENDT</span>
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_var_astdy.html">derive_var_astdy</a></span>(
    <span class="kw">reference_date</span> <span class="kw">=</span> <span class="no">TRTSDT</span>,
    <span class="kw">date</span> <span class="kw">=</span> <span class="no">ASTDT</span>
  )</pre></body></html></div>
</div>
<div id="duration" class="section level3">
<h3 class="hasAnchor">
<a href="#duration" class="anchor"></a>Derive Durations</h3>
<p>The function <code><a href="../reference/derive_duration.html">derive_duration()</a></code> can be used to create the variables <code>ADURN</code> and <code>ADURU</code>.</p>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">adae</span> <span class="kw">&lt;-</span> <span class="no">adae</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_duration.html">derive_duration</a></span>(
    <span class="kw">new_var</span> <span class="kw">=</span> <span class="no">ADURN</span>,
    <span class="kw">new_var_unit</span> <span class="kw">=</span> <span class="no">ADURU</span>,
    <span class="kw">start_date</span> <span class="kw">=</span> <span class="no">ASTDT</span>,
    <span class="kw">end_date</span> <span class="kw">=</span> <span class="no">AENDT</span>,
    <span class="kw">in_unit</span> <span class="kw">=</span> <span class="st">"days"</span>,
    <span class="kw">out_unit</span> <span class="kw">=</span> <span class="st">"days"</span>,
    <span class="kw">add_one</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
    <span class="kw">trunc_out</span> <span class="kw">=</span> <span class="fl">FALSE</span>
  )</pre></body></html></div>
</div>
<div id="phase_period" class="section level3">
<h3 class="hasAnchor">
<a href="#phase_period" class="anchor"></a>Derive Analysis Phase and Period</h3>
<p><em>These functionalities are in progress.</em></p>
</div>
<div id="trtpa" class="section level3">
<h3 class="hasAnchor">
<a href="#trtpa" class="anchor"></a>Derive Planned and Actual Treatment</h3>
<p><em>These functionalities are in progress.</em></p>
</div>
<div id="last_dose" class="section level3">
<h3 class="hasAnchor">
<a href="#last_dose" class="anchor"></a>Derive Date/Date-time of Last Dose</h3>
<p>The function <code><a href="../reference/derive_last_dose.html">derive_last_dose()</a></code> can be used to derive the last dose date. Additionally, this function can also provide the traceability variables (e.g. <code>LDOSEDOM</code>, <code>LDOSESEQ</code>) using the <code>traceability_vars</code> argument.</p>
<div class="sourceCode" id="cb6"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="no">ex_single</span>)
<span class="no">adae</span> <span class="kw">&lt;-</span> <span class="no">adae</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_last_dose.html">derive_last_dose</a></span>(
    <span class="no">ex_single</span>,
    <span class="kw">filter_ex</span> <span class="kw">=</span> (<span class="no">EXDOSE</span> <span class="kw">&gt;</span> <span class="fl">0</span> <span class="kw">|</span> (<span class="no">EXDOSE</span> <span class="kw">==</span> <span class="fl">0</span> <span class="kw">&amp;</span> <span class="kw pkg">stringr</span><span class="kw ns">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html">str_detect</a></span>(<span class="no">EXTRT</span>, <span class="st">"PLACEBO"</span>))) <span class="kw">&amp;</span>
      <span class="fu"><a href="https://rdrr.io/r/base/nchar.html">nchar</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span>(<span class="no">EXENDTC</span>)) <span class="kw">&gt;=</span> <span class="fl">10</span>,
    <span class="kw">dose_start</span> <span class="kw">=</span> <span class="no">EXSTDTC</span>,
    <span class="kw">dose_end</span> <span class="kw">=</span> <span class="no">EXENDTC</span>,
    <span class="kw">analysis_date</span> <span class="kw">=</span> <span class="no">ASTDT</span>,
    <span class="kw">dataset_seq_var</span> <span class="kw">=</span> <span class="no">AESEQ</span>,
    <span class="kw">new_var</span> <span class="kw">=</span> <span class="no">LDOSEDTM</span>,
    <span class="kw">output_datetime</span> <span class="kw">=</span> <span class="fl">TRUE</span>,
    <span class="kw">check_dates_only</span> <span class="kw">=</span> <span class="fl">FALSE</span>
  )</pre></body></html></div>
</div>
<div id="severity" class="section level3">
<h3 class="hasAnchor">
<a href="#severity" class="anchor"></a>Derive Severity, Causality, and Toxicity Grade</h3>
<p>The variables <code>ASEV</code>, <code>AREL</code>, and <code>ATOXGR</code> can be added by simply <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code> if no imputation is required.</p>
<div class="sourceCode" id="cb7"><html><body><pre class="r"><span class="no">adae</span> <span class="kw">&lt;-</span> <span class="no">adae</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(
    <span class="kw">ASEV</span> <span class="kw">=</span> <span class="no">AESEV</span>,
    <span class="kw">AREL</span> <span class="kw">=</span> <span class="no">AEREL</span>
  )</pre></body></html></div>
</div>
<div id="trtflag" class="section level3">
<h3 class="hasAnchor">
<a href="#trtflag" class="anchor"></a>Derive Treatment Emergent Flag</h3>
<p>To derive the treatment emergent flag <code>TRTEMFL</code>, one can use simple <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">dplyr::mutate()</a></code>. In the example below, we use 30 days in the flag derivation.</p>
<div class="sourceCode" id="cb8"><html><body><pre class="r"><span class="no">adae</span> <span class="kw">&lt;-</span> <span class="no">adae</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(
    <span class="kw">TRTEMFL</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span>(<span class="no">ASTDT</span> <span class="kw">&gt;=</span> <span class="no">TRTSDT</span> <span class="kw">&amp;</span> <span class="no">ASTDT</span> <span class="kw">&lt;=</span> <span class="no">TRTEDT</span> + <span class="fu"><a href="http://lubridate.tidyverse.org/reference/period.html">days</a></span>(<span class="fl">30</span>), <span class="st">"Y"</span>, <span class="st">""</span>)
  )</pre></body></html></div>
</div>
<div id="occflag" class="section level3">
<h3 class="hasAnchor">
<a href="#occflag" class="anchor"></a>Derive Occurrence Flags</h3>
<p>The function <code><a href="../reference/derive_extreme_flag.html">derive_extreme_flag()</a></code> can help derive variables such as <code>AOCCIFL</code>, <code>AOCCPIFL</code>, <code>AOCCSIFL</code>, <code>AOCXIFL</code>, <code>AOCXPIFL</code>, and <code>AOCXSIFL</code>.</p>
<p>If grades were collected, the following can be used.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">adae</span> <span class="kw">&lt;-</span> <span class="no">adae</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_extreme_flag.html">derive_extreme_flag</a></span>(
    <span class="kw">new_var</span> <span class="kw">=</span> <span class="no">AOCCIFL</span>,
    <span class="kw">by_vars</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(<span class="no">USUBJID</span>),
    <span class="kw">order</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(<span class="no">ASTDTM</span>, <span class="no">ATOXGR</span>, <span class="no">AESEQ</span>),
    <span class="kw">flag_filter</span> <span class="kw">=</span> <span class="no">TRTEMFL</span> <span class="kw">==</span> <span class="st">"Y"</span>,
    <span class="kw">mode</span> <span class="kw">=</span> <span class="st">"last"</span>
  )</pre></body></html></div>
<p>Similarly, <code>ASEV</code> can also be used to derive the occurrence flags if severity is collected. In this case, the variable may need to be firstly recorded into a numeric one:</p>
<div class="sourceCode" id="cb10"><html><body><pre class="r"><span class="no">adae</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(
    <span class="kw">ASEVN</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/integer.html">as.integer</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span>(<span class="no">ASEV</span>, <span class="kw">levels</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"MILD"</span>, <span class="st">"MODERATE"</span>, <span class="st">"SEVERE"</span>, <span class="st">"DEATH THREATENING"</span>)))
  ) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_extreme_flag.html">derive_extreme_flag</a></span>(
    <span class="kw">new_var</span> <span class="kw">=</span> <span class="no">AOCCIFL</span>,
    <span class="kw">by_vars</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(<span class="no">USUBJID</span>),
    <span class="kw">order</span> <span class="kw">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/vars.html">vars</a></span>(<span class="no">ASTDTM</span>, <span class="no">ASEVN</span>, <span class="no">AESEQ</span>),
    <span class="kw">flag_filter</span> <span class="kw">=</span> <span class="no">TRTEMFL</span> <span class="kw">==</span> <span class="st">"Y"</span>,
    <span class="kw">mode</span> <span class="kw">=</span> <span class="st">"last"</span>
  )</pre></body></html></div>
</div>
<div id="query" class="section level3">
<h3 class="hasAnchor">
<a href="#query" class="anchor"></a>Derive Query Variables</h3>
<p><em>These functionalities are in progress.</em></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Thomas Neitmann, Alice Ehmann, Stefan Bundfuss, Samia Kabi, Vignesh Thanikachalam, Ondrej Slama, Shimeng Huang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
