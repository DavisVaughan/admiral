<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get Started • admiral</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Get Started">
<meta property="og:description" content="admiral">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">admiral</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/admiral.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/adsl.html">Creating ADSL</a>
    </li>
    <li>
      <a href="../articles/occds.html">Creating an OCCDS ADaM</a>
    </li>
    <li>
      <a href="../articles/bds_finding.html">Creating a BDS Finding ADaM</a>
    </li>
    <li>
      <a href="../articles/contributing.html">Contributing to admiral</a>
    </li>
    <li>
      <a href="../articles/faq.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Roche-GSK/admiral/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Get Started</h1>
                        <h4 class="author">Stefan Bundfuss</h4>
            
            <h4 class="date">2021-07-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Roche-GSK/admiral/blob/master/vignettes/admiral.Rmd"><code>vignettes/admiral.Rmd</code></a></small>
      <div class="hidden name"><code>admiral.Rmd</code></div>

    </div>

    
    
<div id="main-idea" class="section level1">
<h1 class="hasAnchor">
<a href="#main-idea" class="anchor"></a>Main Idea</h1>
<p>The main idea of admiral is that an ADaM dataset is build by a sequence of derivations. Each derivation adds one or more variables or parameters to the processed dataset. This modular approach makes it easy to adjust code by adding, removing, or modifying derivations. Each derivation is a function call. Consider for example the following script which creates a (very simple) ADSL dataset.</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">dplyr</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">lubridate</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">admiral</span>)

<span class="co"># read in SDTM datasets</span>
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"dm"</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"ds"</span>)
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span>(<span class="st">"ex"</span>)

<span class="co"># derive treatment variables</span>
<span class="no">adsl</span> <span class="kw">&lt;-</span> <span class="no">dm</span> <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">TRT01P</span> <span class="kw">=</span> <span class="no">ARMCD</span>, <span class="kw">TRT01A</span> <span class="kw">=</span> <span class="no">ACTARMCD</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_var_trtsdtm.html">derive_var_trtsdtm</a></span>(<span class="kw">dataset_ex</span> <span class="kw">=</span> <span class="no">ex</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">TRTSDT</span> <span class="kw">=</span> <span class="fu"><a href="http://lubridate.tidyverse.org/reference/date.html">date</a></span>(<span class="no">TRTSDTM</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_var_trtedtm.html">derive_var_trtedtm</a></span>(<span class="kw">dataset_ex</span> <span class="kw">=</span> <span class="no">ex</span>) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(<span class="kw">TRTEDT</span> <span class="kw">=</span> <span class="fu"><a href="http://lubridate.tidyverse.org/reference/date.html">date</a></span>(<span class="no">TRTEDTM</span>)) <span class="kw">%&gt;%</span>
  <span class="fu"><a href="../reference/derive_var_trtdurd.html">derive_var_trtdurd</a></span>()</pre></body></html></div>
</div>
<div id="derivations" class="section level1">
<h1 class="hasAnchor">
<a href="#derivations" class="anchor"></a>Derivations</h1>
<p>The most important functions in admiral are the <a href="../reference/index.html#section-derivations">derivations</a>. These functions start with <code>derive_</code>. The first parameter of these functions expects the input dataset. This allows to string together derivations using the <code><a href="https://dplyr.tidyverse.org/reference/reexports.html">%&gt;%</a></code> operator.</p>
<p>Functions which derive a dedicated variable start with <code>derive_var_</code> followed by the variable name, e.g., <code><a href="../reference/derive_var_trtdurd.html">derive_var_trtdurd()</a></code> derives the <code>TRTDURD</code> variable.</p>
<p>Functions which derive a dedicated parameter start with <code>derive_param_</code> followed by the parameter name, e.g., <code>derive_param_os()</code> derives the <code>OS</code> parameter.</p>
<div id="input-and-output" class="section level2">
<h2 class="hasAnchor">
<a href="#input-and-output" class="anchor"></a>Input and Output</h2>
<p>It is expected that the input dataset is not grouped. Otherwise an error is issued.</p>
<p>The input dataset should not include variables starting with <code>temp_</code>. These variable names are reserved for temporary variable used within the derivation and are removed from the output dataset. If the input dataset contains such variables, an error is issued.</p>
<p>It is expected all variable names are uppercase in the input dataset and new variables will be returned in uppercase. It is expected all <code>SUPPxx.QNAM</code> values are uppercase to conform with this convention when using the <code>derive_suppqual_vars</code> to adhere to the uppercase requirement.</p>
<p>The output dataset is ungrouped. The observations are not ordered in a dedicated way. In particular, the order of the observations of the input dataset may not be preserved.</p>
</div>
</div>
<div id="computations" class="section level1">
<h1 class="hasAnchor">
<a href="#computations" class="anchor"></a>Computations</h1>
<p><a href="../reference/index.html#section-computations">Computations</a> expect vectors as input and return a vector. These function can be used in expressions like <code><a href="../reference/convert_dtc_to_dt.html">convert_dtc_to_dt()</a></code> and <code><a href="../reference/impute_dtc.html">impute_dtc()</a></code> in the derivation of <code>EOSDT</code> in the example above.</p>
</div>
<div id="parameters" class="section level1">
<h1 class="hasAnchor">
<a href="#parameters" class="anchor"></a>Parameters</h1>
<p>For parameters which expect variable names or expressions of variable names symbols or expressions must be specified rather than strings.</p>
<ul>
<li><p>For parameters which expects a single variable name the name can be specified without quotes and quotation, e.g. <code>new_var = TEMPBL</code></p></li>
<li><p>For parameters which expects one or more variable names a list of symbols is expected, e.g. <code>by_vars = vars(PARAMCD, AVISIT)</code></p></li>
<li><p>For parameters which expects a single expression the expression needs to be passed “as is”, e.g. <code>filter = PARAMCD == "TEMP"</code></p></li>
<li><p>For parameters which expects one or more expressions a list of expressions is expected, e.g. <code>order = desc(AVISIT, desc(AESEV))</code></p></li>
</ul>
</div>
<div id="validation" class="section level1">
<h1 class="hasAnchor">
<a href="#validation" class="anchor"></a>Validation</h1>
<p>All functions are reviewed and tested to ensure that they work as described in the documentation. They are <strong>not validated</strong> yet.</p>
<p>Although admiral follows CDISC standards it does not claim that the dataset resulting from calling admiral functions is ADaM compliant. This has to be ensured by the user.</p>
</div>
<div id="starting-a-script" class="section level1">
<h1 class="hasAnchor">
<a href="#starting-a-script" class="anchor"></a>Starting a Script</h1>
<p>For the ADaM data structures an overview of the flow and example function calls for the most common steps are provided by the following vignettes:</p>
<ul>
<li><a href="adsl.html">Creating ADSL</a></li>
<li><a href="occds.html">Creating an OCCDS ADaM</a></li>
<li><a href="bds_finding.html">Creating a BDS Finding ADaM</a></li>
</ul>
<p>admiral also provides template R scripts as a starting point. They can be created by calling <code><a href="../reference/use_ad_template.html">use_ad_template()</a></code>, e.g.,</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="fu"><a href="../reference/use_ad_template.html">use_ad_template</a></span>(
  <span class="kw">adam_name</span> <span class="kw">=</span> <span class="st">"adsl"</span>,
  <span class="kw">save_path</span> <span class="kw">=</span> <span class="st">"./ad_adsl.R"</span>)</pre></body></html></div>
<p>A list of all available templates can be obtained by <code><a href="../reference/list_all_templates.html">list_all_templates()</a></code>:</p>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="fu"><a href="../reference/list_all_templates.html">list_all_templates</a></span>()
<span class="co">#&gt; Existing templates: </span>
<span class="co">#&gt; • ADSL</span>
<span class="co">#&gt; • ADVS</span></pre></body></html></div>
</div>
<div id="support" class="section level1">
<h1 class="hasAnchor">
<a href="#support" class="anchor"></a>Support</h1>
</div>
<div id="see-also" class="section level1">
<h1 class="hasAnchor">
<a href="#see-also" class="anchor"></a>See also</h1>
<ul>
<li><p>See <a href="https://github.com/Roche-GSK/admiral/tree/master/inst/example_scripts">doc/inst/example_scripts</a> for example scripts creating ADaM datasets.</p></li>
<li><p><a href="contributing.html">Contributing to admiral</a></p></li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Thomas Neitmann, Alice Ehmann, Stefan Bundfuss, Samia Kabi, Vignesh Thanikachalam, Ondrej Slama, Shimeng Huang.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.0.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
